<!-- Full Page Intro -->
<div class="view full-page-intro" >
<!-- style="background-image: url('https:// images.pexels.com/photos/745365/pexels-photo-745365.jpeg?w=1260&h=750&dpr=2&auto=compress&cs=tinysrgb'); background-repeat: no-repeat; background-size: cover;"> -->

  <div class="my-view container">
    <!--Main Navigation-->
    <header>
      <!-- Sidebar -->
      <div class="side-nav sidebar-fixed position-fixed">

        <div class="list-group list-group-flush">

          <a href="#" class="list-group-item waves-effect">
            <h3>Empact</h3>
          </a>
          <a routerLink="/dashboard" class="list-group-item waves-effect active">
            <i class="fa fa-pie-chart mr-3"></i>Dashboard</a>
          <a routerLink="/profile" href="#" class="list-group-item list-group-item-action waves-effect">
            <i class="fa fa-user mr-3"></i>Profile</a>
          <a class="list-group-item list-group-item-action waves-effect" data-toggle="modal" data-target="#exampleModal">
            <i class="fa fa-tv mr-3"></i>New Room
          </a>
          <!-- <a class="list-group-item list-group-item-action waves-effect" >
            <i class="fa fa-tv mr-3"></i>
          </a> -->
          <!-- Modal -->
          <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Make New Room</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <div class="md-form mb-5">
                    <i class="fa fa-user prefix grey-text"></i>
                    <input type="text" id="form34" class="form-control" [(ngModel)]="newroom.code">
                    <label data-error="wrong" data-success="right" for="form34">Room Code</label>
                  </div>
                  <div class="md-form mb-5">
                    <i class="fa fa-user prefix grey-text"></i>
                    <input type="text" id="form34" class="form-control" [(ngModel)]="newroom.name">
                    <label data-error="wrong" data-success="right" for="form34">Room Name</label>
                  </div>
                </div>
                <div class="modal-footer">
                  <button class="btn btn-unique" data-dismiss="modal" aria-label="Close" (click)="newRoom()">Add Room.
                    <i class="fa fa-paper-plane-o ml-1"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
      <!-- Sidebar -->

    </header>
    <!--Main Navigation-->

    <!--Main layout-->
    <main class="mx-lg-5">
      <div class="container-fluid mt-5">

        <!-- Heading -->
        <div class="card mb-4 wow fadeIn text-center">

          <!--Card content-->
          <div class="card-body d-sm-flex justify-content-between ">
            <h4 class="mb-2 mb-sm-0 pt-1">{{ user?.name | titlecase }}'s Dashboard</h4>
          </div>

        </div>
        <!-- Heading -->
        <div *ngIf="insightUrl">
            <iframe allowfullscreen="" [src]="getSafeUrl(playerUrl)" width="580" height="780" frameborder="0"></iframe>          
          <iframe allowfullscreen="" [src]="getSafeUrl(insightUrl)" width="580" height="780" frameborder="0"></iframe>
        </div>

        <input type="file" #file (change)="updateFiles(file.files)">
        <input type="button" class="btn btn-primary" (click)="upload()" value="Send">
        <p *ngIf="percent > 0">Progress: {{ percent }}%</p>

        <!--Card group-->
        <div class="card-deck">
          <div *ngFor="let room of rooms;let id = index" class="wow fadeIn col-lg-6">
            <a>
              <!--Card-->
              <div class="card mb-4 col">

                <!--Card content-->
                <div class="card-body">

                  <!--Title-->
                  <h4 class="card-title">{{room.roomID}} - {{room.name}}</h4>

                  <!--Text-->
                  <p class="card-text">Room Description</p>
                  

                  <!-- InsightsWidgetUrl: "\"https://www.videoindexer.ai/embed/insights/6fd4209a67?accessToken=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJFeHRlcm5hbFVzZXJJZCI6IjY1ZjliNGJmMzFiYjU2YTkiLCJVc2VyVHlwZSI6Ik1pY3Jvc29mdCIsIkJyZWFrZG93bklkIjoiNmZkNDIwOWE2NyIsIkFsbG93RWRpdCI6IkZhbHNlIiwiaXNzIjoiaHR0cHM6Ly93d3cudmlkZW9pbmRleGVyLmFpIiwiYXVkIjoiaHR0cHM6Ly93d3cudmlkZW9pbmRleGVyLmFpIiwiZXhwIjoxNTIzMTQ5NzU3LCJuYmYiOjE1MjMxNDU4NTd9.GkQqL9iSowjOANbebeWXC2iwTc82ubSMine2r5BAhMY\""
​
PlayerWidgetUrl: "\"https://www.videoindexer.ai/embed/player/6fd4209a67?accessToken=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJFeHRlcm5hbFVzZXJJZCI6IjY1ZjliNGJmMzFiYjU2YTkiLCJVc2VyVHlwZSI6Ik1pY3Jvc29mdCIsIkJyZWFrZG93bklkIjoiNmZkNDIwOWE2NyIsIkFsbG93RWRpdCI6IkZhbHNlIiwiaXNzIjoiaHR0cHM6Ly93d3cudmlkZW9pbmRleGVyLmFpIiwiYXVkIjoiaHR0cHM6Ly93d3cudmlkZW9pbmRleGVyLmFpIiwiZXhwIjoxNTIzMTQ5NzU2LCJuYmYiOjE1MjMxNDU4NTZ9.DIG9Pnr3GI0uPbBWe_1q-4BY6fRgarVhuHE-7VpOeJI\""
​
__proto__: Object { … } -->
                  <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
                  <button type="button" routerLink="{{'/room/'+room.code}}" class="btn btn-success btn-md">Enter Room</button>
                  <button type="button" *ngIf="room.videoID" (click)="getRoomInsights(room.videoID)" class="btn btn-info btn-md">Room Insights</button>
                  <a class="list-group-item list-group-item-action waves-effect" data-toggle="modal" data-target="#exampleModal1">
                    Open Modal </a>
                  <!-- Modal -->
                  <div class="modal fade" id="exampleModal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="exampleModalLabel1">Make New Room</h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
                          <!-- <iframe allowfullscreen="" src="sanitizer.bypassSecurityTrustUrl({{urls.PlayerWidgetUrl}})" width="1280" height="720" frameborder="0"></iframe>
                          <iframe allowfullscreen="" src="sanitizer.bypassSecurityTrustUrl({{urls.InsightsWidgetUrl}})" width="1280" height="720" frameborder="0"></iframe> -->
                        </div>
                        <div class="modal-footer">

                        </div>
                      </div>
                    </div>
                  </div>


                </div>
                <!--Card content-->

              </div>
              <!--Card-->
            </a>
          </div>

        </div>
        <!--Card group-->

      </div>
    </main>
    <!--Main layout-->

  </div>
</div>
